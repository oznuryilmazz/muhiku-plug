jQuery(function (n) {
  function t() {
    return {
      language: {
        errorLoading: function () {
          return mhk_enhanced_select_params.i18n_searching;
        },
        inputTooLong: function (e) {
          e = e.input.length - e.maximum;
          return 1 == e
            ? mhk_enhanced_select_params.i18n_input_too_long_1
            : mhk_enhanced_select_params.i18n_input_too_long_n.replace(
                "%qty%",
                e
              );
        },
        inputTooShort: function (e) {
          e = e.minimum - e.input.length;
          return 1 == e
            ? mhk_enhanced_select_params.i18n_input_too_short_1
            : mhk_enhanced_select_params.i18n_input_too_short_n.replace(
                "%qty%",
                e
              );
        },
        loadingMore: function () {
          return mhk_enhanced_select_params.i18n_load_more;
        },
        maximumSelected: function (e) {
          return 1 === e.maximum
            ? mhk_enhanced_select_params.i18n_selection_too_long_1
            : mhk_enhanced_select_params.i18n_selection_too_long_n.replace(
                "%qty%",
                e.maximum
              );
        },
        noResults: function () {
          return mhk_enhanced_select_params.i18n_no_matches;
        },
        searching: function () {
          return mhk_enhanced_select_params.i18n_searching;
        },
      },
    };
  }
  try {
    n(document.body)
      .on("mhk-enhanced-select-init", function () {
        n(":input.mhk-enhanced-select")
          .filter(":not(.enhanced)")
          .each(function () {
            var e = n.extend(
              {
                minimumResultsForSearch: 10,
                allowClear: !!n(this).data("allow_clear"),
                placeholder: n(this).data("placeholder"),
              },
              t()
            );
            n(this).selectWoo(e).addClass("enhanced");
          }),
          n(":input.mhk-enhanced-select-nostd")
            .filter(":not(.enhanced)")
            .each(function () {
              var e = n.extend(
                {
                  minimumResultsForSearch: 10,
                  allowClear: !0,
                  placeholder: n(this).data("placeholder"),
                },
                t()
              );
              n(this).selectWoo(e).addClass("enhanced");
            });
      })
      .trigger("mhk-enhanced-select-init"),
      n("html").on("click", function (e) {
        this === e.target &&
          n(".mhk-enhanced-select")
            .filter(".select2-hidden-accessible")
            .selectWoo("close");
      });
  } catch (e) {
    window.console.log(e);
  }
});
